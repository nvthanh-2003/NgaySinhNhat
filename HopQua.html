<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªôp Qu√† 3D Quay V√≤ng üéâ</title>
    <style>
        body {
            margin: 0;
            overflow: hidden; /* ·∫®n thanh cu·ªôn */
            background-color: #000000; /* N·ªÅn t·ªëi */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        canvas {
            display: block;
        }
        #countdown-timer {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #FFD700; /* M√†u v√†ng kim */
            font-family: sans-serif;
            font-size: 1.5em;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
            z-index: 100;
        }
    </style>
</head>
<body>

<div id="countdown-timer">Trang s·∫Ω chuy·ªÉn trong: 60 gi√¢y</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
    // --- C·∫§U H√åNH CHUY·ªÇN TRANG ---
    const TARGET_URL = "index.html"; // <-- THAY TH·∫æ URL M·ª§C TI√äU C·ª¶A B·∫†N V√ÄO ƒê√ÇY
    const DELAY_SECONDS = 30; // 60 gi√¢y

    // --- 1. THI·∫æT L·∫¨P C·∫¢NH (SCENE) ---
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });

    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    scene.background = new THREE.Color(0x111111);

    // --- 2. √ÅNH S√ÅNG (LIGHTING) ---
    const ambientLight = new THREE.AmbientLight(0xffffff, 1.5);
    scene.add(ambientLight);

    const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5);
    directionalLight.position.set(5, 5, 5).normalize();
    scene.add(directionalLight);

    // --- 3. T·∫†O H·ªòP QU√Ä (GIFT BOX MODEL) ---
    let giftBox;

    // 3a. Th√¢n h·ªôp (Kh·ªëi l·∫≠p ph∆∞∆°ng l·ªõn)
    const boxGeometry = new THREE.BoxGeometry(5, 5, 5);
    const boxMaterial = new THREE.MeshStandardMaterial({
        color: 0xE57373, // M√†u ƒë·ªè/h·ªìng cho th√¢n h·ªôp
        metalness: 0.1,
        roughness: 0.5
    });
    const box = new THREE.Mesh(boxGeometry, boxMaterial);

    // 3b. Ruy bƒÉng d·ªçc (Vertical Ribbon)
    const vRibbonGeometry = new THREE.BoxGeometry(0.8, 5.2, 5.2);
    const ribbonMaterial = new THREE.MeshStandardMaterial({
        color: 0xFFD700, // M√†u v√†ng kim cho ruy bƒÉng
        metalness: 0.8,
        roughness: 0.2
    });
    const vRibbon = new THREE.Mesh(vRibbonGeometry, ribbonMaterial);

    // 3c. Ruy bƒÉng ngang (Horizontal Ribbon)
    const hRibbonGeometry = new THREE.BoxGeometry(5.2, 5.2, 0.8);
    const hRibbon = new THREE.Mesh(hRibbonGeometry, ribbonMaterial);

    // 3d. Nh√≥m c√°c ph·∫ßn t·ª≠ l·∫°i th√†nh H·ªôp Qu√† (Group)
    giftBox = new THREE.Group();
    giftBox.add(box);
    giftBox.add(vRibbon);
    giftBox.add(hRibbon);

    // ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc v√† th√™m v√†o scene
    giftBox.scale.set(1.5, 1.5, 1.5);
    scene.add(giftBox);

    // --- 4. C·∫§U H√åNH CAMERA ---
    camera.position.z = 20;

    // --- 5. V√íNG L·∫∂P HO·∫†T H√åNH (ANIMATION LOOP) ---
    function animate() {
        requestAnimationFrame(animate);

        if (giftBox) {
            giftBox.rotation.y += 0.01;
            giftBox.rotation.x += 0.005;
        }

        renderer.render(scene, camera);
    }

    animate();

    // --- 6. PH·∫¢N H·ªíI K√çCH TH∆Ø·ªöC C·ª¨A S·ªî (RESPONSIVENESS) ---
    window.addEventListener('resize', onWindowResize, false);

    function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }

    // --- 7. LOGIC T·ª∞ ƒê·ªòNG CHUY·ªÇN TRANG (AUTOREDIRECT LOGIC) ---
    const timerElement = document.getElementById('countdown-timer');
    let timeLeft = DELAY_SECONDS;

    // H√†m c·∫≠p nh·∫≠t b·ªô ƒë·∫øm
    function updateTimer() {
        if (timeLeft > 0) {
            timerElement.textContent = `Trang s·∫Ω chuy·ªÉn trong: ${timeLeft} gi√¢y`;
            timeLeft--;
        } else {
            // Khi h·∫øt th·ªùi gian, th·ª±c hi·ªán chuy·ªÉn trang
            timerElement.textContent = "ƒêang chuy·ªÉn trang...";
            clearInterval(timerInterval);
            window.location.href = TARGET_URL;
        }
    }

    // Thi·∫øt l·∫≠p Interval ƒë·ªÉ ch·∫°y h√†m updateTimer m·ªói gi√¢y
    const timerInterval = setInterval(updateTimer, 1000);

    // G·ªçi h√†m l·∫ßn ƒë·∫ßu ti√™n ƒë·ªÉ hi·ªÉn th·ªã ngay l·∫≠p t·ª©c
    updateTimer();

</script>
</body>
</html>