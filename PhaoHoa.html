<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph√°o Hoa ƒÇn M·ª´ng! üéâ</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
            color: white;
            font-family: 'Arial', sans-serif;
            text-align: center;
        }

        canvas {
            display: block;
        }

        /* Ti√™u ƒë·ªÅ ƒÉn m·ª´ng */
        #celebration-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            font-size: 4em;
            color: #FFD700; /* M√†u v√†ng kim */
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 165, 0, 0.6);
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            animation: pulse 1.5s infinite alternate;
        }

        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                transform: translate(-50%, -50%) scale(1.05);
            }
        }

        /* --- B·ªò ƒê·∫æM NG∆Ø·ª¢C --- */
        #auto-redirect-timer {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 1.2em;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.9);
            z-index: 20; /* N·∫±m tr√™n canvas */
        }

        /* Hi·ªáu ·ª©ng c·∫£nh b√°o khi s·∫Øp chuy·ªÉn trang */
        .blinking {
            animation: blink 0.7s infinite alternate;
            color: #FF4500; /* M√†u ƒë·ªè cam */
            font-weight: bold;
        }

        @keyframes blink {
            from { opacity: 1; }
            to { opacity: 0.4; }
        }
    </style>
</head>
<body>

<div id="celebration-text">
    CH√öC M·ª™NG SINH NH·∫¨T! üéâ
</div>

<div id="auto-redirect-timer">Trang s·∫Ω chuy·ªÉn trong: 30 gi√¢y</div>

<canvas id="fireworksCanvas"></canvas>

<script>
    // --- C·∫§U H√åNH CHUY·ªÇN TRANG ---
    const TARGET_URL = "index.html"; // <-- THAY TH·∫æ URL M·ª§C TI√äU C·ª¶A B·∫†N V√ÄO ƒê√ÇY
    const DELAY_SECONDS = 30; // 30 gi√¢y

    // --- LOGIC ƒê·∫æM NG∆Ø·ª¢C V√Ä CHUY·ªÇN TRANG ---
    const timerElement = document.getElementById('auto-redirect-timer');
    let timeLeft = DELAY_SECONDS;

    function updateTimer() {
        if (timeLeft > 0) {
            timerElement.textContent = `Trang s·∫Ω chuy·ªÉn trong: ${timeLeft} gi√¢y`;

            // Th√™m hi·ªáu ·ª©ng nh·∫•p nh√°y khi c√≤n 5 gi√¢y cu·ªëi
            if (timeLeft <= 5) {
                timerElement.classList.add('blinking');
            }

            timeLeft--;
        } else {
            // Khi h·∫øt th·ªùi gian, th·ª±c hi·ªán chuy·ªÉn trang
            timerElement.textContent = "ƒêang chuy·ªÉn trang...";
            clearInterval(timerInterval);
            window.location.href = TARGET_URL;
        }
    }

    // Thi·∫øt l·∫≠p Interval ƒë·ªÉ ch·∫°y h√†m updateTimer m·ªói gi√¢y
    const timerInterval = setInterval(updateTimer, 1000);

    // G·ªçi h√†m l·∫ßn ƒë·∫ßu ti√™n ƒë·ªÉ hi·ªÉn th·ªã ngay l·∫≠p t·ª©c
    updateTimer();

    // --- LOGIC PH√ÅO HOA (GI·ªÆ NGUY√äN) ---
    const canvas = document.getElementById('fireworksCanvas');
    const ctx = canvas.getContext('2d');

    let W = window.innerWidth;
    let H = window.innerHeight;
    canvas.width = W;
    canvas.height = H;

    window.addEventListener('resize', () => {
        W = window.innerWidth;
        H = window.innerHeight;
        canvas.width = W;
        canvas.height = H;
    });

    function randomColor() {
        const r = Math.floor(Math.random() * 255);
        const g = Math.floor(Math.random() * 255);
        const b = Math.floor(Math.random() * 255);
        return `rgb(${r},${g},${b})`;
    }

    class Particle {
        constructor(x, y, color, angle, speed) {
            this.x = x;
            this.y = y;
            this.color = color || randomColor();
            this.radius = Math.random() * 1.5 + 0.5;

            this.velocity = {
                x: Math.cos(angle) * speed,
                y: Math.sin(angle) * speed
            };

            this.alpha = 1;
            this.friction = 0.98;
            this.gravity = 0.02;
        }

        draw() {
            ctx.save();
            ctx.globalAlpha = this.alpha;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
            ctx.fillStyle = this.color;
            ctx.fill();
            ctx.restore();
        }

        update() {
            this.velocity.x *= this.friction;
            this.velocity.y *= this.friction;

            this.velocity.y += this.gravity;

            this.x += this.velocity.x;
            this.y += this.velocity.y;

            this.alpha -= 0.005;
        }
    }

    let particles = [];

    function createHighFountain(x, y, color) {
        const particleCount = 80;
        const baseSpeed = 5;

        for (let i = 0; i < particleCount; i++) {
            const angleDeg = Math.random() * 60 + 240;
            const angleRad = (Math.PI / 180) * angleDeg;

            const speed = baseSpeed * (Math.random() * 0.5 + 0.75);

            particles.push(new Particle(x, y, color, angleRad, speed));
        }
    }

    function animate() {
        requestAnimationFrame(animate);

        ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
        ctx.fillRect(0, 0, W, H);

        particles = particles.filter(p => p.alpha > 0);

        particles.forEach(p => {
            p.update();
            p.draw();
        });

        // T·ª± ƒë·ªông b·∫Øn ph√°o hoa t·ª´ 1/3 d∆∞·ªõi c√πng m√†n h√¨nh v·ªõi t·∫ßn su·∫•t ·ªïn ƒë·ªãnh
        if (Math.random() < 0.05) {
            const x = Math.random() * W;
            // B·∫Øn t·ª´ 1/3 d∆∞·ªõi c√πng (t·ª´ H * 0.66 ƒë·∫øn H)
            const y = Math.random() * (H / 3) + (H * 0.66);
            createHighFountain(x, y);
        }
    }

    animate();

    // B·∫Øn v√†i qu·∫£ ngay l√∫c ƒë·∫ßu t·ª´ ƒë√°y m√†n h√¨nh
    for (let i = 0; i < 6; i++) {
        setTimeout(() => {
            const x = Math.random() * W;
            const y = H - 5; // B·∫Øn t·ª´ g·∫ßn s√°t ƒë√°y m√†n h√¨nh
            createHighFountain(x, y);
        }, i * 250);
    }
</script>

</body>
</html>